{
  "schemaVersion": "1.0.0",
  "projectStateVersion": 37,
  "summary": "Order management app (Option B) where the user uploads a cumulative OrderList (treated as today/selected date’s orders) and uses a standard (not daily) karigar mapping document (Excel or PDF) to auto-enrich orders with Generic Name + Karigar Name by Design code, then view orders karigar-wise on the Order List page with search/sort and export actions; the Daily Order Upload page should not show factory tabs and should show upload row count plus searchable/sortable extracted columns; data must persist across refreshes, within an app layout titled “Shree I Jewellery Order Management System” (default opens to Order List) without any separate welcome screen or name entry/upload field.",
  "architectural_notes": [
    "Portal automation/scraping is out of scope; orders will be provided via manual Excel upload (Option B).",
    "Do not store or hardcode portal credentials in the app; treat any login details as secrets and exclude from logs/storage.",
    "Input will include two Excel uploads: a cumulative OrderList (treated as the selected day’s dataset) and a separate multi-sheet workbook used as a Design→Karigar mapping for grouping.",
    "App should open without requiring user login/authentication (no auth gate on launch).",
    "Karigar mapping workbook is a standard/persistent dataset updated only when required via manual upload (not a daily upload).",
    "The mapping workbook’s “Name” column represents a generic product name associated with the product/design code and must be handled accordingly when grouping/displaying.",
    "Karigar mapping source must support either Excel or PDF; requiring three sheets named 1/2/3 is optional and must not be assumed.",
    "Order display should be enriched from mapping by adding derived columns (Generic Name, Karigar Name) matched via Design code.",
    "Karigar mapping upload must not be restricted to admin; any user (including anonymous) can upload/replace the current mapping dataset.",
    "No welcome/landing screen is needed; app should open directly to the Order List (no user name field to enter/upload)."
  ],
  "known_issues": [
    "Excel upload/list is not reading the uploaded Excel file and the app fails/crashes during upload.",
    "Karigar names are being mismatched due to incorrect parsing/usage of the karigar mapping workbook (sheets/columns), resulting in improper karigar-wise filtering/grouping.",
    "Generic Name mapping/enrichment appears incorrect for some design codes (e.g., showing values like \"3+1\", \"4S IPL\" as generic design names), indicating mapping parsing/matching issues.",
    "Karigar Mapping upload is incorrectly restricted to admin-only; should be uploadable by anyone.",
    "Daily Order Upload and Karigar Mapping pages show 'Actor not available' error (likely backend/actor/canister not reachable), blocking uploads/merge.",
    "Order List page is not consistently displaying the extracted base order fields (Weight/Size/Quantity/Remarks, etc.) from the uploaded OrderList; it must show the full extracted dataset plus enrichment.",
    "Order List still does not display the merged/enriched results after Daily Order Upload + Karigar Mapping upload (combined data not showing in the Order List view).",
    "Daily Order Upload Excel parsing currently extracts only Order No and Design, but fails to extract required fields Weight, Size, Quantity, and Remark.",
    "Draft/live deployments appear to show no changes for multiple versions (possible caching or deployment pipeline issue), making it hard to verify fixes to Excel extraction.",
    "Order List shows \"A mapping is loaded but no orders match\" even after verifying/rectifying design codes and re-uploading the mapping file; indicates a persistent design-code normalization/matching or lookup-application bug."
  ],
  "isFixRequest": true,
  "existing_features": [
    {
      "id": "feature-implement-a-daily-orders-excel-upload-flow-where-a-user-can-select-a-date-default-today-and-upload-the-portal-exported-excel-file-for-that-date",
      "title": "Implement a daily orders Excel upload flow where a user can select a date (default: today) and upload the portal-exported Excel file for that date.",
      "reqIds": [
        "REQ-1"
      ],
      "version": 1
    },
    {
      "id": "feature-parse-the-uploaded-excel-file-and-extract-only-these-columns-for-each-order-row-order-no-design-weight-size-quantity-remarks",
      "title": "Parse the uploaded Excel file and extract only these columns for each order row: Order No, Design, Weight, Size, Quantity, Remarks.",
      "reqIds": [
        "REQ-2"
      ],
      "version": 1
    },
    {
      "id": "feature-provide-interactive-filtering-and-sorting-of-the-extracted-daily-orders-including-sorting-by-design-and-searching-filtering-across-the-extracted-fields",
      "title": "Provide interactive filtering and sorting of the extracted daily orders, including sorting by Design and searching/filtering across the extracted fields.",
      "reqIds": [
        "REQ-3"
      ],
      "version": 1
    },
    {
      "id": "feature-support-grouping-orders-karigar-wise-and-factory-wise-if-needed-to-produce-separate-per-group-views-and-exports-since-the-extracted-excel-fields-do-not-include-karigar-factory-provide-an-in-app-way-to-assign-each-order-or-each-design-to-a-karigar-and-optional-factory-for-the-current-day-and-reuse-those-assignments-for-consistent-grouping",
      "title": "Support grouping orders karigar-wise (and factory-wise if needed) to produce separate per-group views and exports. Since the extracted Excel fields do not include karigar/factory, provide an in-app way to assign each order (or each Design) to a karigar and optional factory for the current day, and reuse those assignments for consistent grouping.",
      "reqIds": [
        "REQ-4"
      ],
      "version": 1
    },
    {
      "id": "feature-generate-downloadable-pdf-exports-for-each-karigar-group-for-the-selected-date-containing-that-group-s-orders-with-the-extracted-fields-order-no-design-weight-size-quantity-remarks-and-a-clear-header-including-the-date-and-group-name",
      "title": "Generate downloadable PDF exports for each karigar group for the selected date, containing that group’s orders with the extracted fields (Order No, Design, Weight, Size, Quantity, Remarks) and a clear header including the date and group name.",
      "reqIds": [
        "REQ-5"
      ],
      "version": 1
    },
    {
      "id": "feature-create-a-coherent-distinct-visual-theme-for-the-app-colors-typography-layout-and-apply-it-consistently-across-the-upload-table-grouping-and-export-screens",
      "title": "Create a coherent, distinct visual theme for the app (colors, typography, layout) and apply it consistently across the upload, table, grouping, and export screens.",
      "reqIds": [
        "REQ-7"
      ],
      "version": 1
    },
    {
      "id": "feature-update-the-daily-orders-page-to-support-uploading-two-separate-files-for-the-selected-date-default-today-1-an-orderlist-workbook-that-contains-cumulative-orders-and-must-be-displayed-stored-as-the-selected-date-s-orders-and-2-a-karigar-mapping-workbook-mbar0502-copy-used-to-auto-group-filter-orders-karigar-wise",
      "title": "Update the Daily Orders page to support uploading two separate files for the selected date (default: today): (1) an OrderList workbook that contains cumulative orders and must be displayed/stored as the selected date’s orders, and (2) a karigar mapping workbook (\"mbar0502 copy\") used to auto-group/filter orders karigar-wise.",
      "reqIds": [
        "REQ-8"
      ],
      "version": 1
    },
    {
      "id": "feature-add-support-for-parsing-the-provided-orderlist-excel-workbook-format-e-g-orderlist17-from-xlsx-xls-and-still-accept-csv-and-extract-the-same-required-order-fields-per-row-order-no-design-weight-size-quantity-remarks",
      "title": "Add support for parsing the provided OrderList Excel workbook format (e.g., OrderList17) from .xlsx/.xls (and still accept .csv) and extract the same required order fields per row: Order No, Design, Weight, Size, Quantity, Remarks.",
      "reqIds": [
        "REQ-9"
      ],
      "version": 1
    },
    {
      "id": "feature-implement-parsing-of-the-karigar-mapping-workbook-e-g-mbar0502-copy-that-contains-three-sheets-named-1-2-and-3-combine-these-sheets-into-a-single-design-karigar-mapping-and-use-it-to-automatically-assign-group-orders-karigar-wise-for-the-selected-date-based-on-each-order-s-design-value",
      "title": "Implement parsing of the karigar mapping workbook (e.g., \"mbar0502 copy\") that contains three sheets named \"1\", \"2\", and \"3\"; combine these sheets into a single Design → Karigar mapping and use it to automatically assign/group orders karigar-wise for the selected date based on each order’s Design value.",
      "reqIds": [
        "REQ-10"
      ],
      "version": 1
    },
    {
      "id": "feature-add-a-safe-apply-mapping-workflow-and-visibility-into-mapping-results-including-how-many-orders-were-assigned-per-karigar-and-which-order-designs-could-not-be-matched-ensure-manual-assignment-remains-available-and-can-override-auto-assigned-results-when-needed",
      "title": "Add a safe 'Apply mapping' workflow and visibility into mapping results, including how many orders were assigned per karigar and which order designs could not be matched; ensure manual assignment remains available and can override auto-assigned results when needed.",
      "reqIds": [
        "REQ-11"
      ],
      "version": 1
    },
    {
      "id": "feature-fix-the-orderlist-upload-flow-so-uploading-an-excel-file-xlsx-xls-does-not-crash-or-abort-the-upload-and-the-parsed-orders-are-shown-in-the-ui-after-upload",
      "title": "Fix the OrderList upload flow so uploading an Excel file (.xlsx/.xls) does not crash or abort the upload, and the parsed orders are shown in the UI after upload.",
      "reqIds": [
        "REQ-12"
      ],
      "version": 1
    },
    {
      "id": "feature-make-file-type-detection-in-the-orderlist-parser-robust-to-uppercase-extensions-and-common-filename-variations-by-using-case-insensitive-checks-e-g-xlsx-xls-and-or-mime-type-fallbacks",
      "title": "Make file-type detection in the OrderList parser robust to uppercase extensions and common filename variations by using case-insensitive checks (e.g., .XLSX/.XLS) and/or MIME-type fallbacks.",
      "reqIds": [
        "REQ-13"
      ],
      "version": 1
    },
    {
      "id": "feature-ensure-the-frontend-handles-backend-upload-failures-gracefully-if-storing-parsed-orders-in-the-backend-fails-keep-the-parsed-orders-visible-in-the-ui-and-show-a-clear-english-error-indicating-saving-failed-separate-from-parsing-errors",
      "title": "Ensure the frontend handles backend upload failures gracefully: if storing parsed orders in the backend fails, keep the parsed orders visible in the UI and show a clear English error indicating saving failed (separate from parsing errors).",
      "reqIds": [
        "REQ-14"
      ],
      "version": 1
    },
    {
      "id": "feature-remove-the-login-requirement-on-app-open-so-the-daily-orders-ui-is-accessible-immediately-without-internet-identity-authentication",
      "title": "Remove the login requirement on app open so the Daily Orders UI is accessible immediately without Internet Identity authentication.",
      "reqIds": [
        "REQ-15"
      ],
      "version": 1
    },
    {
      "id": "feature-change-the-current-karigars-grouping-ui-so-it-does-not-display-any-design-list-instead-show-only-the-different-factories-as-the-primary-grouping-navigation",
      "title": "Change the current “Karigars” grouping UI so it does not display any design list; instead, show only the different factories as the primary grouping/navigation.",
      "reqIds": [
        "REQ-17"
      ],
      "version": 1
    },
    {
      "id": "feature-make-the-factory-views-premade-no-manual-karigar-selection-required-when-a-factory-is-selected-display-all-orders-grouped-karigar-wise-automatically-within-that-factory",
      "title": "Make the factory views “premade” (no manual karigar selection required): when a factory is selected, display all orders grouped karigar-wise automatically within that factory.",
      "reqIds": [
        "REQ-18"
      ],
      "version": 1
    },
    {
      "id": "feature-add-swipe-based-navigation-to-move-between-factory-order-lists-and-provide-a-per-factory-download-export-action-so-the-user-can-swipe-to-a-factory-and-download-that-factory-s-order-list",
      "title": "Add swipe-based navigation to move between factory order lists, and provide a per-factory download/export action so the user can swipe to a factory and download that factory’s order list.",
      "reqIds": [
        "REQ-19"
      ],
      "version": 1
    },
    {
      "id": "feature-fix-karigar-mapping-excel-parsing-so-karigar-names-are-assigned-correctly-by-reading-the-correct-columns-and-prioritizing-sheets-1-and-3-and-treating-the-name-column-as-the-generic-product-name-for-the-product-design-code",
      "title": "Fix karigar mapping Excel parsing so karigar names are assigned correctly by reading the correct columns and prioritizing sheets \"1\" and \"3\" (and treating the \"Name\" column as the generic product name for the product/design code).",
      "reqIds": [
        "REQ-20"
      ],
      "version": 1
    },
    {
      "id": "feature-refactor-the-app-entry-ui-to-show-a-landing-header-titled-shree-i-jewellery-order-management-system-and-provide-a-3-tab-navigation-1-order-list-factory-wise-view-2-daily-order-upload-and-3-karigar-mapping",
      "title": "Refactor the app entry UI to show a landing header titled \"Shree I Jewellery Order Management System\" and provide a 3-tab navigation: (1) \"Order List\" (factory-wise view), (2) \"Daily Order Upload\", and (3) \"Karigar Mapping\".",
      "reqIds": [
        "REQ-22"
      ],
      "version": 1
    },
    {
      "id": "feature-update-the-order-list-tab-to-display-orders-factory-wise-one-factory-visible-at-a-time-with-swipe-based-navigation-between-factories-and-within-each-factory-group-orders-karigar-wise-with-a-per-karigar-download-action-displayed-above-each-karigar-group",
      "title": "Update the \"Order List\" tab to display orders factory-wise (one factory visible at a time) with swipe-based navigation between factories, and within each factory group orders karigar-wise with a per-karigar download action displayed above each karigar group.",
      "reqIds": [
        "REQ-23"
      ],
      "version": 1
    },
    {
      "id": "feature-when-displaying-orders-in-the-factory-karigar-views-sort-orders-so-that-items-with-the-same-design-product-code-are-grouped-together-and-display-the-generic-product-name-from-the-mapping-workbook-name-column-alongside-the-design-product-code-in-the-ui",
      "title": "When displaying orders in the factory/karigar views, sort orders so that items with the same design/product code are grouped together, and display the generic product name (from the mapping workbook \"Name\" column) alongside the design/product code in the UI.",
      "reqIds": [
        "REQ-24"
      ],
      "version": 1
    },
    {
      "id": "feature-update-the-karigar-mapping-tab-to-allow-uploading-an-updated-mapping-workbook-at-any-time-independent-of-daily-order-uploads-show-an-english-confirmation-error-state-and-make-the-newly-uploaded-mapping-immediately-available-to-the-order-list-and-mapping-apply-workflows",
      "title": "Update the \"Karigar Mapping\" tab to allow uploading an updated mapping workbook at any time (independent of daily order uploads), show an English confirmation/error state, and make the newly uploaded mapping immediately available to the Order List and mapping-apply workflows.",
      "reqIds": [
        "REQ-25"
      ],
      "version": 1
    },
    {
      "id": "feature-eliminate-the-user-visible-actor-not-available-failure-on-both-the-daily-order-upload-and-karigar-mapping-pages-by-making-all-upload-save-actions-wait-for-backend-actor-readiness-and-by-showing-a-clear-english-loading-disabled-state-until-the-actor-is-created",
      "title": "Eliminate the user-visible \"Actor not available\" failure on both the Daily Order Upload and Karigar Mapping pages by making all upload/save actions wait for backend actor readiness and by showing a clear English loading/disabled state until the actor is created.",
      "reqIds": [
        "REQ-26"
      ],
      "version": 1
    },
    {
      "id": "feature-revise-the-daily-order-upload-page-ui-and-workflow-so-that-after-upload-it-shows-only-a-total-number-of-uploaded-rows-and-b-a-searchable-sortable-table-for-the-extracted-columns-order-no-design-weight-size-quantity-remarks-remove-factory-navigation-tabs-and-remove-any-assign-to-karigar-ui-from-this-page",
      "title": "Revise the Daily Order Upload page UI and workflow so that after upload it shows only: (a) total number of uploaded rows, and (b) a searchable/sortable table for the extracted columns (Order No, Design, Weight, Size, Quantity, Remarks). Remove factory navigation/tabs and remove any \"assign to karigar\" UI from this page.",
      "reqIds": [
        "REQ-28"
      ],
      "version": 1
    },
    {
      "id": "feature-on-the-daily-order-upload-page-support-selecting-all-orders-and-selecting-individual-orders-then-exporting-either-a-all-orders-or-b-only-the-selected-orders",
      "title": "On the Daily Order Upload page, support selecting all orders and selecting individual orders, then exporting either (a) all orders or (b) only the selected orders.",
      "reqIds": [
        "REQ-29"
      ],
      "version": 1
    },
    {
      "id": "feature-implement-the-merged-data-behavior-after-a-karigar-mapping-file-excel-or-pdf-is-uploaded-and-daily-orders-are-uploaded-the-order-list-view-must-enrich-each-order-by-matching-on-design-code-and-then-show-the-complete-order-list-filtered-grouped-karigar-wise-based-on-the-merged-mapping-result",
      "title": "Implement the merged data behavior: after a karigar mapping file (Excel or PDF) is uploaded and daily orders are uploaded, the Order List view must enrich each order by matching on Design code and then show the complete order list filtered/grouped karigar-wise based on the merged mapping result.",
      "reqIds": [
        "REQ-30"
      ],
      "version": 1
    },
    {
      "id": "feature-ensure-daily-uploaded-order-data-and-the-currently-uploaded-karigar-mapping-dataset-persist-across-browser-refreshes-and-are-reloaded-automatically-when-reopening-the-app",
      "title": "Ensure daily uploaded order data and the currently uploaded karigar mapping dataset persist across browser refreshes and are reloaded automatically when reopening the app.",
      "reqIds": [
        "REQ-31"
      ],
      "version": 1
    },
    {
      "id": "feature-perform-an-app-wide-robustness-pass-for-the-draft-release-replace-any-remaining-raw-backend-agent-exceptions-with-clear-english-user-facing-errors-and-prevent-crashes-during-file-upload-parse-save-flows",
      "title": "Perform an app-wide robustness pass for the draft release: replace any remaining raw backend/agent exceptions with clear English user-facing errors and prevent crashes during file upload/parse/save flows.",
      "reqIds": [
        "REQ-32"
      ],
      "version": 1
    },
    {
      "id": "feature-update-the-daily-order-upload-page-to-save-the-parsed-excel-fields-including-weight-size-quantity-remarks-to-the-backend-and-to-reload-them-correctly-from-the-backend-so-the-table-shows-the-same-extracted-values-after-refresh-reopen",
      "title": "Update the Daily Order Upload page to save the parsed Excel fields (including Weight/Size/Quantity/Remarks) to the backend and to reload them correctly from the backend so the table shows the same extracted values after refresh/reopen.",
      "reqIds": [
        "REQ-34"
      ],
      "version": 1
    },
    {
      "id": "feature-ensure-karigar-mapping-uploaded-as-pdf-design-code-generic-name-karigar-name-is-used-to-enrich-the-daily-orders-by-matching-on-design-code-and-show-the-enriched-results-on-the-order-list-page-grouped-filtered-karigar-wise-while-still-displaying-the-full-base-order-columns-weight-size-quantity-remarks",
      "title": "Ensure karigar mapping uploaded as PDF (Design code, Generic name, Karigar name) is used to enrich the daily orders by matching on Design code, and show the enriched results on the Order List page grouped/filtered karigar-wise while still displaying the full base order columns (Weight/Size/Quantity/Remarks).",
      "reqIds": [
        "REQ-35"
      ],
      "version": 1
    },
    {
      "id": "feature-fix-order-list-exports-so-downloaded-exported-files-for-karigar-wise-groups-include-the-complete-dataset-fields-order-no-design-generic-name-karigar-name-weight-size-quantity-remarks-for-the-selected-date-karigar-filter",
      "title": "Fix Order List exports so downloaded/exported files for karigar-wise groups include the complete dataset fields (Order No, Design, Generic Name, Karigar Name, Weight, Size, Quantity, Remarks) for the selected date/karigar filter.",
      "reqIds": [
        "REQ-36"
      ],
      "version": 1
    },
    {
      "id": "feature-on-the-order-list-tab-ensure-each-order-row-is-displayed-using-the-merged-dataset-where-base-fields-come-from-the-daily-order-upload-order-no-design-code-weight-size-quantity-remarks-and-enrichment-fields-come-from-the-current-karigar-mapping-dataset-generic-name-karigar-name-matched-by-design-code",
      "title": "On the Order List tab, ensure each order row is displayed using the merged dataset where base fields come from the Daily Order Upload (Order No, Design Code, Weight, Size, Quantity, Remarks) and enrichment fields come from the current Karigar Mapping dataset (Generic Name, Karigar Name) matched by Design Code.",
      "reqIds": [
        "REQ-37"
      ],
      "version": 1
    },
    {
      "id": "feature-add-clear-english-error-ui-to-the-order-list-tab-when-fetching-daily-orders-and-or-the-karigar-mapping-fails-e-g-backend-trap-agent-error-instead-of-silently-showing-an-empty-state-the-error-must-be-displayed-alongside-the-existing-connecting-to-backend-readiness-messaging",
      "title": "Add clear English error UI to the Order List tab when fetching daily orders and/or the karigar mapping fails (e.g., backend trap/agent error), instead of silently showing an empty state. The error must be displayed alongside the existing \"Connecting to backend...\" readiness messaging.",
      "reqIds": [
        "REQ-40"
      ],
      "version": 1
    },
    {
      "id": "feature-ensure-the-order-list-tab-refreshes-merged-enriched-results-after-a-successful-daily-orders-upload-and-after-a-successful-karigar-mapping-upload-without-requiring-a-manual-page-refresh-by-relying-on-existing-react-query-invalidations-and-making-sure-the-order-list-view-reacts-to-newly-available-query-data",
      "title": "Ensure the Order List tab refreshes merged/enriched results after a successful Daily Orders upload and after a successful Karigar Mapping upload (without requiring a manual page refresh), by relying on existing React Query invalidations and making sure the Order List view reacts to newly available query data.",
      "reqIds": [
        "REQ-41"
      ],
      "version": 1
    },
    {
      "id": "feature-update-the-daily-order-upload-file-parser-so-it-reliably-extracts-all-required-fields-for-each-row-order-no-design-weight-size-quantity-and-remark-s-even-when-the-uploaded-excel-csv-uses-common-header-variations-or-has-extra-title-rows-above-the-real-header-row",
      "title": "Update the Daily Order Upload file parser so it reliably extracts all required fields for each row: Order No, Design, Weight, Size, Quantity, and Remark(s), even when the uploaded Excel/CSV uses common header variations or has extra title rows above the real header row.",
      "reqIds": [
        "REQ-42"
      ],
      "version": 1
    },
    {
      "id": "feature-improve-daily-order-upload-parsing-so-orderlist-uploads-reliably-extract-non-empty-values-for-all-required-fields-order-no-design-weight-size-quantity-remarks-for-the-common-orderlist-workbook-format-including-when-headers-are-non-standard-when-there-are-extra-title-rows-and-when-cell-values-include-hidden-characters-or-unusual-spacing",
      "title": "Improve Daily Order Upload parsing so OrderList uploads reliably extract non-empty values for all required fields (Order No, Design, Weight, Size, Quantity, Remarks) for the common OrderList workbook format, including when headers are non-standard, when there are extra title rows, and when cell values include hidden characters or unusual spacing.",
      "reqIds": [
        "REQ-43"
      ],
      "version": 1
    },
    {
      "id": "feature-harden-design-code-normalization-and-mapping-matching-so-order-list-enrichment-does-not-incorrectly-produce-an-all-unmapped-result-when-mapping-exists-by-applying-the-same-normalization-rules-to-both-a-uploaded-orders-design-values-and-b-mapping-entries-design-values-before-lookup",
      "title": "Harden Design-code normalization and mapping matching so Order List enrichment does not incorrectly produce an all-“Unmapped” result when mapping exists, by applying the same normalization rules to both (a) uploaded orders’ Design values and (b) mapping entries’ Design values before lookup.",
      "reqIds": [
        "REQ-44"
      ],
      "version": 1
    },
    {
      "id": "feature-add-a-visible-user-friendly-build-identifier-in-the-ui-e-g-in-the-app-header-or-a-small-footer-so-users-can-confirm-that-new-deployments-are-actually-loaded-in-both-draft-and-live-environments",
      "title": "Add a visible, user-friendly build identifier in the UI (e.g., in the app header or a small footer) so users can confirm that new deployments are actually loaded in both draft and live environments.",
      "reqIds": [
        "REQ-45"
      ],
      "version": 1
    },
    {
      "id": "feature-add-frontend-cache-busting-safeguards-so-that-after-deployment-the-latest-ui-bundle-is-more-reliably-served-reduce-the-chance-that-draft-live-appears-unchanged-across-multiple-versions",
      "title": "Add frontend cache-busting safeguards so that after deployment, the latest UI bundle is more reliably served (reduce the chance that draft/live appears unchanged across multiple versions).",
      "reqIds": [
        "REQ-46"
      ],
      "version": 1
    },
    {
      "id": "feature-remove-the-always-on-welcome-profile-setup-modal-so-the-app-opens-directly-to-the-main-ui-order-list-daily-order-upload-karigar-mapping-without-any-welcome-screen",
      "title": "Remove the always-on welcome/profile setup modal so the app opens directly to the main UI (Order List / Daily Order Upload / Karigar Mapping) without any welcome screen.",
      "reqIds": [
        "REQ-47"
      ],
      "version": 1
    },
    {
      "id": "feature-remove-the-profile-name-input-and-any-frontend-logic-that-uploads-saves-a-user-name-do-not-call-savecalleruserprofile-getcalleruserprofile-from-the-ui-flow",
      "title": "Remove the profile name input and any frontend logic that uploads/saves a user name (do not call saveCallerUserProfile / getCallerUserProfile from the UI flow).",
      "reqIds": [
        "REQ-48"
      ],
      "version": 1
    },
    {
      "id": "feature-improve-the-daily-order-upload-file-parser-so-it-reliably-extracts-non-empty-values-for-all-required-fields-order-no-design-weight-size-quantity-remarks-from-common-orderlist-excel-csv-formats-including-when-there-are-extra-title-rows-above-the-real-header-row-when-headers-use-common-variations-e-g-different-casing-punctuation-remark-s-and-when-there-are-hidden-unusual-whitespace-characters",
      "title": "Improve the Daily Order Upload file parser so it reliably extracts non-empty values for all required fields (Order No, Design, Weight, Size, Quantity, Remarks) from common OrderList Excel/CSV formats, including when there are extra title rows above the real header row, when headers use common variations (e.g., different casing/punctuation, \"Remark's\"), and when there are hidden/unusual whitespace characters.",
      "reqIds": [
        "REQ-49"
      ],
      "version": 1
    },
    {
      "id": "feature-expose-daily-order-upload-parsing-warnings-and-detected-header-information-to-the-user-in-the-daily-order-upload-ui-in-english-instead-of-only-logging-warnings-to-the-console-so-the-user-can-understand-when-the-file-is-missing-optional-columns-or-when-a-non-first-header-row-was-used",
      "title": "Expose Daily Order Upload parsing warnings and detected-header information to the user in the Daily Order Upload UI (in English) instead of only logging warnings to the console, so the user can understand when the file is missing optional columns or when a non-first header row was used.",
      "reqIds": [
        "REQ-50"
      ],
      "version": 1
    },
    {
      "id": "feature-ensure-the-daily-order-upload-flow-does-not-crash-or-abort-after-parser-changes-successful-parses-must-still-populate-the-on-page-table-and-attempt-to-save-to-the-backend-failures-must-show-a-clear-english-error-without-losing-already-parsed-rows-when-only-the-save-step-fails",
      "title": "Ensure the Daily Order Upload flow does not crash or abort after parser changes: successful parses must still populate the on-page table and attempt to save to the backend; failures must show a clear English error without losing already-parsed rows when only the save step fails.",
      "reqIds": [
        "REQ-51"
      ],
      "version": 1
    },
    {
      "id": "feature-fix-design-code-matching-between-daily-orders-and-karigar-mapping-so-uploaded-mapping-entries-reliably-enrich-orders-generic-name-karigar-name-instead-of-producing-mostly-all-unmapped-results",
      "title": "Fix Design-code matching between Daily Orders and Karigar Mapping so uploaded mapping entries reliably enrich orders (Generic Name + Karigar Name) instead of producing mostly/all “Unmapped” results.",
      "reqIds": [
        "REQ-52"
      ],
      "version": 1
    },
    {
      "id": "feature-update-the-karigar-mapping-upload-pipeline-to-persist-a-canonical-normalized-design-key-alongside-each-mapping-entry-and-ensure-that-the-saved-mapping-format-contains-all-fields-required-for-reliable-future-lookups-after-refresh-reopen",
      "title": "Update the Karigar Mapping upload pipeline to persist a canonical normalized design key alongside each mapping entry and ensure that the saved mapping format contains all fields required for reliable future lookups after refresh/reopen.",
      "reqIds": [
        "REQ-53"
      ],
      "version": 1
    },
    {
      "id": "feature-improve-the-karigar-mapping-parser-to-detect-the-correct-columns-and-avoid-mis-reading-non-mapping-columns-as-generic-name-or-karigar-name-when-parsing-excel-pdf-mapping-files",
      "title": "Improve the karigar mapping parser to detect the correct columns and avoid mis-reading non-mapping columns as Generic Name or Karigar Name when parsing Excel/PDF mapping files.",
      "reqIds": [
        "REQ-54"
      ],
      "version": 1
    },
    {
      "id": "feature-add-user-visible-diagnostics-so-the-user-can-verify-whether-mapping-data-is-loaded-and-how-many-orders-are-being-matched-on-the-order-list-page",
      "title": "Add user-visible diagnostics so the user can verify whether mapping data is loaded and how many orders are being matched on the Order List page.",
      "reqIds": [
        "REQ-55"
      ],
      "version": 1
    },
    {
      "id": "feature-fix-the-order-list-enrichment-so-karigar-generic-name-mapping-is-actually-applied-by-design-code-stop-returning-an-always-empty-mapping-lookup-the-mapping-lookup-must-be-fully-built-from-the-currently-loaded-karigar-mapping-workbook-before-enriching-orders-and-it-must-update-reliably-after-a-mapping-upload-and-on-page-refresh",
      "title": "Fix the Order List enrichment so karigar/generic-name mapping is actually applied by Design code (stop returning an always-empty mapping lookup). The mapping lookup must be fully built from the currently loaded karigar mapping workbook before enriching orders, and it must update reliably after a mapping upload and on page refresh.",
      "reqIds": [
        "REQ-56"
      ],
      "version": 1
    },
    {
      "id": "feature-fix-daily-order-upload-parsing-so-weight-size-quantity-and-remarks-are-reliably-extracted-as-non-empty-values-from-the-uploaded-orderlist-excel-csv-when-those-columns-exist-handle-common-header-variations-extra-title-rows-and-messy-hidden-whitespace",
      "title": "Fix Daily Order Upload parsing so Weight, Size, Quantity, and Remarks are reliably extracted as non-empty values from the uploaded OrderList Excel/CSV when those columns exist (handle common header variations, extra title rows, and messy/hidden whitespace).",
      "reqIds": [
        "REQ-57"
      ],
      "version": 1
    },
    {
      "id": "feature-add-quick-user-visible-diagnostics-on-the-daily-order-upload-page-after-parsing-that-clearly-indicate-how-many-rows-have-non-empty-weight-size-quantity-values-to-confirm-extraction-worked",
      "title": "Add quick, user-visible diagnostics on the Daily Order Upload page after parsing that clearly indicate how many rows have non-empty Weight/Size/Quantity values (to confirm extraction worked).",
      "reqIds": [
        "REQ-58"
      ],
      "version": 1
    },
    {
      "id": "feature-fix-design-code-matching-so-order-list-enrichment-successfully-maps-orders-to-karigar-generic-name-even-when-design-codes-differ-only-by-separators-e-g-hyphens-underscores-slashes-or-formatting",
      "title": "Fix design-code matching so Order List enrichment successfully maps orders to karigar/generic name even when design codes differ only by separators (e.g., hyphens, underscores, slashes) or formatting.",
      "reqIds": [
        "REQ-59"
      ],
      "version": 1
    },
    {
      "id": "feature-update-canonical-design-code-normalization-used-for-matching-so-it-is-robust-to-common-separator-differences-by-producing-the-same-lookup-key-for-equivalent-design-codes-across-uploads-orders-and-mapping",
      "title": "Update canonical design-code normalization used for matching so it is robust to common separator differences by producing the same lookup key for equivalent design codes across uploads (orders and mapping).",
      "reqIds": [
        "REQ-60"
      ],
      "version": 1
    },
    {
      "id": "feature-ensure-the-decoded-mapping-lookup-is-rebuilt-after-a-successful-mapping-upload-and-when-the-stored-mapping-changes-so-order-list-does-not-keep-using-a-stale-lookup",
      "title": "Ensure the decoded mapping lookup is rebuilt after a successful mapping upload and when the stored mapping changes, so Order List does not keep using a stale lookup.",
      "reqIds": [
        "REQ-61"
      ],
      "version": 1
    },
    {
      "id": "feature-make-mapping-lookup-construction-resilient-to-older-saved-mapping-blobs-by-recomputing-the-normalized-lookup-key-from-the-stored-design-value-using-the-current-normalization-rules-do-not-rely-exclusively-on-a-previously-persisted-designnormalized-value",
      "title": "Make mapping lookup construction resilient to older saved mapping blobs by recomputing the normalized lookup key from the stored design value using the current normalization rules (do not rely exclusively on a previously persisted designNormalized value).",
      "reqIds": [
        "REQ-62"
      ],
      "version": 1
    },
    {
      "id": "feature-improve-order-list-diagnostics-when-mapping-loaded-but-no-orders-match-occurs-by-showing-a-small-english-user-readable-hint-that-includes-concrete-debug-counts-e-g-number-of-distinct-normalized-order-design-keys-and-a-small-sample-to-help-confirm-whether-normalization-matching-is-working",
      "title": "Improve Order List diagnostics when 'mapping loaded but no orders match' occurs by showing a small, English, user-readable hint that includes concrete debug counts (e.g., number of distinct normalized order design keys and a small sample) to help confirm whether normalization/matching is working.",
      "reqIds": [
        "REQ-63"
      ],
      "version": 1
    }
  ],
  "new_feature_requests": [
    {
      "id": "AR-1",
      "summary": "Excel upload flow for daily orders (manual upload)",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-2",
      "summary": "Parse uploaded Excel and extract only: Order No, Design, Weight, Size, Quantity, Remarks",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-3",
      "summary": "Filter/sort orders by design and group/filter karigar-wise (and factory-wise if applicable)",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-4",
      "summary": "Generate and export/share karigar-wise PDFs from filtered daily orders",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-10",
      "summary": "Store daily uploaded order data and the derived grouping assignments in the backend so the user can reopen past dates and re-export PDFs without re-uploading the Excel file.",
      "reqIds": [
        "REQ-6"
      ],
      "status": "pending"
    },
    {
      "id": "AR-11",
      "summary": "Support uploading a second Excel workbook (multi-sheet) that maps Design -> Karigar (and use it to auto-assign/group orders karigar-wise)",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-12",
      "summary": "Treat the uploaded cumulative OrderList Excel as the selected date’s (default: today) orders (i.e., show all rows as today’s orders)",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-17",
      "summary": "Karigar screen should not display the Design list; show only different Factories as the primary grouping/navigation",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-18",
      "summary": "Pre-made karigar-wise display of all orders (no manual choosing); user can swipe between factory order lists and download each factory’s list",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-19",
      "summary": "Remove login requirement when the app is opened (no authentication gate on launch)",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-21",
      "summary": "Update backend authorization so anonymous users can read/write daily orders and karigar/factory assignments without trapping as unauthorized.",
      "reqIds": [
        "REQ-16"
      ],
      "status": "pending"
    },
    {
      "id": "AR-23",
      "summary": "Correct karigar mapping parsing: specifically use sheets 1 & 3 appropriately and treat the “Name” column as the generic product name tied to the product/design code; ensure orders are matched and karigar names assigned correctly.",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-24",
      "summary": "In karigar-wise filtered views, add a download option above each karigar tab to export/download that karigar’s orders.",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-25",
      "summary": "Treat the karigar mapping workbook as a standard, persistent dataset (not changing daily); allow updating it only when required via manual upload in the Karigar Mapping tab.",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-27",
      "summary": "Persist the karigar mapping workbook as a standard (non-daily) dataset in the backend, with APIs to save a full mapping replacement on upload and to fetch the currently saved mapping for use across all dates.",
      "reqIds": [
        "REQ-21"
      ],
      "status": "pending"
    },
    {
      "id": "AR-28",
      "summary": "Allow karigar mapping upload as either Excel or PDF; sheets 1/2/3 structure should be optional (not required).",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-29",
      "summary": "Parse mapping PDF containing Design Code, Generic Name, Karigar Name; match by Design code and enrich all orders by adding columns for Generic Name and Karigar Name.",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-30",
      "summary": "In factory-wise views, filter/group orders using the mapped Karigar Name (after enrichment) and show factory sections accordingly.",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-31",
      "summary": "Add a factory-wise 'Select all orders and export' option (not only individual selection).",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-32",
      "summary": "Revamp navigation: move top tabs into a left-side menu/drawer opened via a top icon; default app landing should open directly to the Order List page.",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-33",
      "summary": "Remove admin-only restriction for Karigar Mapping upload; allow any (anonymous) user to upload/update the mapping file",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-34",
      "summary": "In Karigar Mapping tab, show a persistent 'Current mapping status' at the bottom displaying the actual currently uploaded mapping file name/details",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-35",
      "summary": "Add 'Remove all orders' option on Order List tab and provide 'Select All' for total orders and within each karigar tab/group",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-36",
      "summary": "Revise Daily Order Upload page: remove factory tabs; after upload show total rows + searchable/sortable table, and allow export of all orders or selected individual orders (no manual karigar assignment UI).",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-38",
      "summary": "Update backend authorization so anonymous (not logged-in) users can store and read daily orders and can upload/replace the karigar mapping workbook, without trapping as unauthorized.",
      "reqIds": [
        "REQ-27"
      ],
      "status": "pending"
    },
    {
      "id": "AR-39",
      "summary": "Show the extracted order columns (Order No, Design, Weight, Size, Quantity, Remarks) in BOTH the Daily Order Upload page and the Order List page (with Order List additionally enriched by mapping).",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-40",
      "summary": "Persist the full extracted daily order fields (Order No, Design, Weight, Size, Quantity, Remarks) in the backend when storing daily orders, and return these fields from the backend for later viewing/export.",
      "reqIds": [
        "REQ-33"
      ],
      "status": "pending"
    },
    {
      "id": "AR-41",
      "summary": "Update the backend authorization rules so anonymous (not logged-in) users can read and write the core datasets required for the merged Order List view: Daily Orders and the Karigar Mapping workbook. Specifically, calls from anonymous users must not trap as \"Unauthorized\" for: getDailyOrders, storeDailyOrders, getKarigarMappingWorkbook, and saveKarigarMappingWorkbook.",
      "reqIds": [
        "REQ-38"
      ],
      "status": "pending"
    },
    {
      "id": "AR-42",
      "summary": "Update the backend authorization rules so anonymous (not logged-in) users can read and write karigar assignment data used for grouping/filtering where applicable (assignKarigar and getKarigarAssignments), to avoid partial failures in any views that still depend on assignments.",
      "reqIds": [
        "REQ-39"
      ],
      "status": "pending"
    }
  ],
  "gameProjectType": "none",
  "projectName": "Daily order Excel upload, filtering/grouping, and karigar-wise PDF export (Option B)",
  "clarification_mode": "instant",
  "clarification_rounds": 0
}