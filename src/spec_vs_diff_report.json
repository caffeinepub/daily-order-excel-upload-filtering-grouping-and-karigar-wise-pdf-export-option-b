{
  "kind": "spec_vs_diff_report",
  "version": "1.0",
  "generatedAt": "2026-02-07T13:15:03.738Z",
  "summary": "Diff largely implements the requested Master Design File parsing/storage updates (3 required columns) and adds a Karigar filter on Order List with enrichment via normalized design-code lookup. Some user-facing UI instruction changes are not fully verifiable due to truncation. Diff also introduces several extra behaviors not explicitly requested (PDF parsing support, image/screenshot handling messages, export-per-karigar UI, extra diagnostics).",
  "missing_requirements": [
    {
      "id": "REQ-1",
      "requirement": "Mapping upload UI instructions should no longer mention optional columns or priority sheet rules and should specify the master design file must contain Design Code, Generic Name, and Karigar Name.",
      "reason": "The parser/codec changes clearly enforce 3 required columns, but the diff for the upload UI text is truncated before showing the instructional copy; cannot confirm that optional/priority-sheet messaging was removed and replaced per AC.",
      "evidence": [
        "frontend/src/features/karigar-mapping/KarigarMappingTab.tsx (truncated)"
      ]
    }
  ],
  "hallucinated_features": [
    {
      "description": "Added/extended support for parsing Master Design File from PDF (via PDF.js) in addition to Excel.",
      "reason": "BuildRequest allows uploading Excel/PDF mapping files but does not require implementing PDF parsing/extraction logic; this is additional scope beyond the stated requirements.",
      "evidence": [
        "frontend/src/features/daily-orders/excel/parseKarigarMapping.ts (truncated)"
      ]
    },
    {
      "description": "Explicit handling and user-facing errors for images/screenshots being unsupported mapping inputs.",
      "reason": "Non-goals mention no OCR/screenshot parsing, but the requirement did not ask for explicit image detection and custom messaging; this is extra behavior.",
      "evidence": [
        "frontend/src/features/karigar-mapping/KarigarMappingTab.tsx (truncated)"
      ]
    },
    {
      "description": "Per-karigar export button/flow on the Order List grouped view (exports orders for the selected karigar).",
      "reason": "REQ-2 only requests a Karigar filter control for displayed orders/groups; export functionality is not requested.",
      "evidence": [
        "frontend/src/features/order-list/components/KarigarOrderGroups.tsx (truncated)"
      ]
    },
    {
      "description": "Additional diagnostics/debug information on Order List (mapping/order key samples, match stats).",
      "reason": "Not requested by REQ-2; appears to be an added debugging feature.",
      "evidence": [
        "frontend/src/features/order-list/OrderListTab.tsx (truncated)"
      ]
    }
  ],
  "confidence": 0.66,
  "changed_files": [
    "frontend-file-summaries.txt",
    "frontend/src/features/daily-orders/excel/parseKarigarMapping.ts",
    "frontend/src/features/karigar-mapping/KarigarMappingTab.tsx",
    "frontend/src/features/karigar-mapping/karigarMappingBlobCodec.ts",
    "frontend/src/features/order-list/OrderListTab.tsx",
    "frontend/src/features/order-list/components/KarigarOrderGroups.tsx",
    "project_state.json"
  ]
}